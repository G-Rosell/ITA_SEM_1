
<!-- Opgave 4:
Løsningen til opgave 2 skal udvides med skalering. Dvs. at hvis punkterne fylder for meget til at være i SVG-tagget, skal deres (x,y)-koordinater skaleres ned. 
Og omvendt, hvis SVG-tagget har plads nok, skal illustrationen skaleres op i størrelse. 
Derudover skal skalerings-funktionen for ‘y’ laves så y-aksen vender rigtigt, altså med (0,0) nede i venstre hjørne. 
Hvis man beholder (0,0) oppe i venstre hjørne, er illustrationen tydeligvis en smiley der vender på hovedet!
Her er en liste over de ændringer du har brug for at lave i koden:

Der skal indføres skaleringsfunktioner som beskrevet i præsentationen fra i dag. Der er tale om to funktioner - en der kan skalere x-værdien og en der kan skalere y-værdien.
Skaleringsfunktionerne skal anvendes der hvor koordinaterne indgår i koden. 
Så i stedet for at bruge ‘x’ direkte (eller rettere, ‘d[0]’), skal den altså igennem en skaleringsfunktion først.

Test din løsning ved at ændre på størrelsen af dit SVG-tag.

Test hvor const w = 500; og const h = 400;
Test hvor const w = 300; og const h = 200;
Prøv et par andre størrelser efter eget valg.
Tillægsspørgsmål:

Kan du sikrer at cirklerne ikke rager ud over kanten og bliver “klippet over”? 
Ville det give mening at lave en skaleringsfunktion til radius også? -->

<!DOCTYPE html>
<html>

<head>
  <title>Scatter Plot</title>
  <script type="text/javascript" src="d3.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <script type="text/javascript">
    // Width og height
    const w = 500; 
    const h = 400; 

    // Selve datasættet
    const dataset = [
      [50, 20, "red"], [100, 20, "red"], [150, 20, "red"],
      [200, 20, "red"], [250, 20, "red"], [50, 60, "red"],
      [100, 60, "green"], [150, 60, "green"], [200, 60, "green"],
      [250, 60, "red"], [50, 100, "red"], [100, 100, "red"],
      [150, 100, "red"], [200, 100, "red"], [250, 100, "red"],
      [50, 140, "red"], [100, 140, "blue"], [150, 140, "red"],
      [200, 140, "blue"], [250, 140, "red"], [50, 180, "red"],
      [100, 180, "red"], [150, 180, "red"], [200, 180, "red"],
      [250, 180, "red"],
    ];

    // Skaleringsfunktioner
    const xScale = d3.scaleLinear()
      .domain([0, d3.max(dataset, d => d[0])])
      .range([0, w]);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(dataset, d => d[1])])
      .range([h, 0]);

    // SVG-tag
    const svg = d3.select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h);

    // Tegner cirklerne
    svg.selectAll("circle")
      .data(dataset)
      .enter()
      .append("circle")
      .attr("cx", d => xScale(d[0]))
      .attr("cy", d => yScale(d[1]))
      .attr("r", 15)
      .attr("fill", d => d[2]);

    // Tegner tekst
    svg.selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .text(d => d[0] + "," + d[1])
      .attr("x", d => xScale(d[0]))
      .attr("y", d => yScale(d[1]))
      .attr("font-family", "sans-serif")
      .attr("font-size", "11px")
      .attr("fill", "red");
  </script>
</body>

</html>